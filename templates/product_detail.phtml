<div class="header">
    <h1><?= $product['name'] ?? 'Продукт' ?></h1>
    <a href="/index.php?action=list" class="btn btn-secondary">Назад к каталогу</a>
</div>

<div class="product-detail-container"
     data-product-id="<?= (int)$product['id'] ?>"
     data-product-name="<?= htmlspecialchars($product['name'], ENT_QUOTES) ?>"
     data-product-price="<?= (float)$product['price'] ?>"
     data-product-category="<?= htmlspecialchars($product['category_name'], ENT_QUOTES) ?>"
     style="display: flex; gap: 20px;">
    <div class="product-image">
        <img src="<?= $product['image_url'] ?? 'assets/placeholder.png' ?>" alt="<?= $product['name'] ?? '' ?>" style="max-width: 300px; border-radius: 8px;">
    </div>
    <div class="product-info">
        <p class="product-price" style="font-size: 24px; color: var(--primary-color); margin: 0;"><?= $product['price'] ?? 0 ?> ₽</p>
        <p class="product-category" style="color: var(--grey-color);">Категория: <?= $product['category_name'] ?? 'Не указана' ?></p>
        <div class="product-description">
            <p><?= $product['description'] ?? '' ?></p>
        </div>
    </div>
</div>

<script type="application/ld+json">
<?= json_encode([
        '@context' => 'https://schema.org/',
        '@type' => 'Product',
        'name' => $product['name'],
        'description' => $product['description'],
        'image' => $product['image_url'] ?? 'assets/placeholder.png',
        'sku' => $product['id'],
        'offers' => [
            '@type' => 'Offer',
            'price' => (float)$product['price'],
            'priceCurrency' => 'RUB',
            'availability' => 'https://schema.org/InStock'
        ]
    ], JSON_UNESCAPED_UNICODE | JSON_UNESCAPED_SLASHES | JSON_PRETTY_PRINT) ?>
</script>